name: 'Link Checker Action'
description: 'Checks the integrity of links in the PR'
inputs:
  # TODO: make this action comment on the PR
  # token:
  #   description: 'GitHub Token'
  #   required: true
  # TODO: take a preview URL as input instead
  # prNumber:
  #   description: 'Pull Request Number'
  #   required: true
  #deploy-preview-${{ inputs.prNumber }}--fluxcd.netlify.app
  productionDomain:
    description: 'Live production site hostname'
    required: true
  previewDomain:
    description: 'Preview site deployment hostname'
    required: true
outputs:
  pr-summary:
    description: 'Summary CSV for problematic links'
  baseline-unresolved:
    description: 'Baseline unresolved links CSV'
runs:
  using: 'docker'
  image: 'Dockerfile'
